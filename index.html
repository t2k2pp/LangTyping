<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Typing Master - „Çø„Ç§„Éî„É≥„Ç∞Â≠¶Áøí„Ç¢„Éó„É™</title>
    <meta name="description" content="„Éó„É≠„Ç∞„É©„Éü„É≥„Ç∞Ë®ÄË™û„Å®„Çø„Ç§„Éî„É≥„Ç∞„ÇíÂêåÊôÇ„Å´Â≠¶„Åπ„ÇãÂ≠¶Áøí„Ç¢„Éó„É™">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Selection Screen -->
    <div id="selection-screen" class="screen active">
        <div class="selection-container">
            <h1 class="app-title">
                <span class="title-icon">‚å®Ô∏è</span>
                Code Typing Master
            </h1>
            <p class="app-subtitle">„Çø„Ç§„Éî„É≥„Ç∞„Å®„Éó„É≠„Ç∞„É©„Éü„É≥„Ç∞„ÇíÂêåÊôÇ„Å´Â≠¶„Å∂</p>

            <div class="selection-card">
                <div class="form-group">
                    <label for="language-select" class="form-label">
                        <span class="label-icon">üíª</span>
                        Ë®ÄË™û„ÇíÈÅ∏Êäû
                    </label>
                    <select id="language-select" class="select-input">
                        <option value="javascript" selected>JavaScript</option>
                        <option value="python">Python üêç</option>
                        <option value="c">C Language</option>
                        <option value="english">English - Ëã±Ë™û</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">
                        <span class="label-icon">üìä</span>
                        Èõ£ÊòìÂ∫¶„ÇíÈÅ∏Êäû
                    </label>
                    <div class="difficulty-buttons">
                        <button class="difficulty-btn active" data-difficulty="easy">
                            <span class="difficulty-label">Easy</span>
                            <span class="difficulty-desc">ÂàùÁ¥ö„É¨„Éô„É´</span>
                        </button>
                        <button class="difficulty-btn" data-difficulty="medium">
                            <span class="difficulty-label">Medium</span>
                            <span class="difficulty-desc">‰∏≠Á¥ö„É¨„Éô„É´</span>
                        </button>
                        <button class="difficulty-btn" data-difficulty="hard">
                            <span class="difficulty-label">Hard</span>
                            <span class="difficulty-desc">‰∏äÁ¥ö„É¨„Éô„É´</span>
                        </button>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">
                        <span class="label-icon">üéÆ</span>
                        ÈÅ∏Êäû„É¢„Éº„Éâ
                    </label>
                    <div class="mode-buttons">
                        <button class="mode-btn active" data-mode="random">
                            <span class="mode-label">„É©„É≥„ÉÄ„É†</span>
                            <span class="mode-desc">Èõ£ÊòìÂ∫¶ÂÜÖ„Åß„É©„É≥„ÉÄ„É†</span>
                        </button>
                        <button class="mode-btn" data-mode="select">
                            <span class="mode-label">„Çπ„ÉÜ„Éº„Ç∏ÈÅ∏Êäû</span>
                            <span class="mode-desc">ÂÄãÂà•„Å´ÈÅ∏„Å∂</span>
                        </button>
                    </div>
                </div>

                <button id="start-btn" class="start-btn">
                    <span class="btn-text">„Çπ„Çø„Éº„Éà</span>
                    <span class="btn-icon">‚Üí</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Stage Select Screen -->
    <div id="stage-select-screen" class="screen">
        <div class="stage-select-container">
            <h2 class="screen-title">
                <span class="back-btn" id="back-from-stages">‚Üê</span>
                „Çπ„ÉÜ„Éº„Ç∏ÈÅ∏Êäû
            </h2>
            <div id="stage-list" class="stage-list"></div>
        </div>
    </div>

    <!-- Stage Preview Screen -->
    <div id="preview-screen" class="screen">
        <div class="preview-container">
            <div class="preview-card">
                <div class="preview-header">
                    <span class="stage-number" id="preview-stage-number">1-1</span>
                    <span class="highscore-badge" id="preview-highscore" style="display: none;">
                        üèÜ „Éè„Ç§„Çπ„Ç≥„Ç¢: <span id="preview-hs-value">0</span>
                    </span>
                </div>
                <h2 class="preview-title" id="preview-title"></h2>
                <div class="preview-description" id="preview-description"></div>
                <div class="preview-code-sample">
                    <div class="preview-label">üìù „Ç≥„Éº„Éâ„Éó„É¨„Éì„É•„Éº</div>
                    <pre id="preview-code"></pre>
                </div>
                <div class="preview-actions">
                    <button class="preview-btn secondary" id="cancel-preview-btn">
                        <span>„Ç≠„É£„É≥„Çª„É´</span>
                    </button>
                    <button class="preview-btn primary" id="start-stage-btn">
                        <span>„Çπ„Çø„Éº„ÉàÔºÅ</span>
                        <span>üöÄ</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Typing Screen -->
    <div id="typing-screen" class="screen">
        <div class="typing-container">
            <!-- Header -->
            <div class="typing-header">
                <div class="header-info">
                    <span class="language-badge" id="current-language">JavaScript</span>
                    <span class="difficulty-badge" id="current-difficulty">Easy</span>
                    <span class="stage-badge" id="current-stage" style="display: none;">1-1</span>
                </div>
                <div class="timer-display">
                    <span class="timer-icon">‚è±Ô∏è</span>
                    <span id="timer">0:00</span>
                </div>
            </div>

            <!-- Code Editor Area -->
            <div class="code-editor">
                <div class="editor-header">
                    <div class="editor-tabs">
                        <div class="editor-tab active">
                            <span class="tab-icon">üìÑ</span>
                            <span id="file-name">main.js</span>
                        </div>
                    </div>
                    <div class="editor-actions">
                        <button class="editor-action-btn" id="restart-btn" title="ÊúÄÂàù„Åã„Çâ„ÇÑ„ÇäÁõ¥„Åô">
                            <span>‚Üª</span>
                        </button>
                        <button class="editor-action-btn" id="exit-btn" title="ÁµÇ‰∫Ü">
                            <span>‚úï</span>
                        </button>
                    </div>
                </div>
                <div class="editor-content">
                    <div class="line-numbers" id="line-numbers"></div>
                    <pre class="code-text" id="code-text"></pre>
                </div>
                <div class="editor-footer">
                    <div class="stats">
                        <span class="stat-item">
                            <span class="stat-label">Ê≠£Á¢∫ÊÄß:</span>
                            <span id="accuracy">100%</span>
                        </span>
                        <span class="stat-item">
                            <span class="stat-label">ÈÄüÂ∫¶:</span>
                            <span id="speed">0 CPM</span>
                        </span>
                        <span class="stat-item">
                            <span class="stat-label">Ë™§„Çø„Ç§„Éó:</span>
                            <span id="errors">0</span>
                        </span>
                    </div>
                </div>
            </div>

            <!-- Software Keyboard -->
            <div class="keyboard-container">
                <div id="software-keyboard"></div>
            </div>
        </div>
    </div>

    <!-- Results Screen -->
    <div id="results-screen" class="screen">
        <div class="results-container">
            <div class="results-card">
                <h2 class="results-title">ÁµêÊûú</h2>

                <!-- New Record Badge -->
                <div class="new-record-badge" id="new-record-badge" style="display: none;">
                    üéâ Êñ∞Ë®òÈå≤ÈÅîÊàêÔºÅ üéâ
                </div>

                <div class="score-display">
                    <div class="score-circle">
                        <svg class="score-ring" viewBox="0 0 200 200">
                            <circle class="score-ring-bg" cx="100" cy="100" r="85"></circle>
                            <circle class="score-ring-progress" id="score-ring" cx="100" cy="100" r="85"></circle>
                        </svg>
                        <div class="score-content">
                            <div class="rank" id="rank">A</div>
                            <div class="score-value" id="final-score">0</div>
                        </div>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">‚è±Ô∏è</div>
                        <div class="stat-value" id="result-time">0:00</div>
                        <div class="stat-label">ÂÆüË°åÊôÇÈñì</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚úì</div>
                        <div class="stat-value" id="result-accuracy">100%</div>
                        <div class="stat-label">Ê≠£Á¢∫ÊÄß</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚ö°</div>
                        <div class="stat-value" id="result-speed">0</div>
                        <div class="stat-label">CPM</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚ùå</div>
                        <div class="stat-value" id="result-errors">0</div>
                        <div class="stat-label">Ë™§„Çø„Ç§„Éó</div>
                    </div>
                </div>

                <!-- High Score Comparison -->
                <div class="highscore-comparison" id="highscore-comparison" style="display: none;">
                    <div class="comparison-title">üìä „Éè„Ç§„Çπ„Ç≥„Ç¢ÊØîËºÉ</div>
                    <div class="comparison-row">
                        <span class="comparison-label">‰ªäÂõû:</span>
                        <span class="comparison-value" id="current-score-display">0</span>
                    </div>
                    <div class="comparison-row">
                        <span class="comparison-label">ÂâçÂõû„Éô„Çπ„Éà:</span>
                        <span class="comparison-value" id="previous-best-display">0</span>
                    </div>
                </div>

                <div class="results-actions">
                    <button class="result-btn secondary" id="back-to-menu-btn">
                        <span>„É°„Éã„É•„Éº„Å´Êàª„Çã</span>
                    </button>
                    <button class="result-btn primary" id="retry-btn">
                        <span>„ÇÇ„ÅÜ‰∏ÄÂ∫¶</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="stages.js"></script>
    <script src="samples.js"></script>
    <script src="keyboard.js"></script>
    <script src="typing-engine.js"></script>
    <script src="scoring.js"></script>
    <script src="app.js"></script>
</body>

</html>